PROJECT(CPPJIEBA)

CMAKE_MINIMUM_REQUIRED (VERSION 2.8)

if (CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
    set (CMAKE_INSTALL_PREFIX "/usr" CACHE PATH "default install path" FORCE )
endif()
ADD_DEFINITIONS(-std=c++0x -O3 -Wall)
IF (DEFINED ENC)
    ADD_DEFINITIONS(-DCPPJIEBA_${ENC})
ENDIF()
#ADD_DEFINITIONS(-DNO_FILTER)
ADD_SUBDIRECTORY(src)
ADD_SUBDIRECTORY(dict)

if (!${APPLE})
ADD_SUBDIRECTORY(script)
ADD_SUBDIRECTORY(conf)
endif()

ADD_SUBDIRECTORY(test)

ENABLE_TESTING()
ADD_TEST(NAME test.run COMMAND test.run)
ADD_TEST(NAME load_test COMMAND load_test)
